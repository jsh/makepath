# makepath
# given a pathname, create all components in that pathname as directories.

die() { echo "$*" >&2; exit 1; }

function makepath() {

  { [ -f $1 ] || [ -p $1 ] || [ -c $1 ]; } &&
    warn "$FUNCNAME: cannot create directory \`$1': File exists"

  [ -e $1 ] && return 0
  makepath $(dirname $1) &&
    mkdir $1
}
