# makepath
# given a pathname, create all components in that pathname as directories.

die() { echo "$*" >&2; exit 1; }

function makepath() {

  { [ -b "$@" ] || [ -c "$@" ] || [ -f "$@" ] || [ -p "$@" ]; } &&
    warn "$FUNCNAME: cannot create directory \`"$@"': File exists"

  [ -e "$@" ] && return 0
  makepath $(dirname "$@") &&
    mkdir "$@"
}
