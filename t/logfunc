exec 8>&1
exec 9>&2

warn() { printf "$*\n" >&9; }
}

die() {
  printf "$*\n" >&9
  exit 1
}

error-logging() {
  if [ "$1" = "off" ]; then
    exec 2>&9
  else
    exec 2>>${_logfile:=log}
  fi
}

output-logging() {
  if [ "$1" = "off" ]; then
    exec >&8
  else
    exec >>${_logfile:=log}
  fi
}
